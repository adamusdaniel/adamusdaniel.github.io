var args=[window,document,function(f){return[].slice.call(document.querySelectorAll.bind(document)(f))}];
(function(f,e,l,w,F,n,p,x,y,z,A,q,B,r,g,C,D,t,u){t=!1;u=function(b){return"{["+b+"]}"};String.prototype.podziel=function(b){return this.split(u(b))};g=function(b){t?setTimeout(function(){g(b)},100):D(b)};D=function(b,c,d,a,k){c=l(".prompt");k=l(".float_etl");if(1!=c.length||1!=k.length)return console.error("B\u0142\u0105d modu\u0142u terminalu.");c=c[0];k=k[0];d=b.map(function(a,b){b=e.createElement("p");c.appendChild(b);return b});a=function(a,c,E,v,h,g,f){t=!0;f=function(h,l){l=0;null==h&&(h=0);
if(h>=d.length)return t=!1;a=d[h];c=b[h];-1!=c.indexOf(u("skip"))&&(c=c.podziel("skip").join(""),l=1);E=0;v=function(b){b=function(){g=c[E++];"undefined"!==typeof g?(a.append("\n"==g?e.createElement("br"):g),v()):(a.classList.remove("active"),f(++h))};l?(a.innerHTML=c,a.classList.remove("active"),f(++h)):setTimeout(b,1);k.scrollTop=k.scrollHeight+2*k.offsetHeight};a.classList.add("active");v()};f()};a()};String.prototype.endsWith||(String.prototype.endsWith=function(b,c){var d=this.toString();if("number"!==
typeof c||!isFinite(c)||Math.floor(c)!==c||c>d.length)c=d.length;c-=b.length;d=d.indexOf(b,c);return-1!==d&&d===c});q=function(b,c){var d;e.createEvent?(d=e.createEvent("HTMLEvents"),d.initEvent(b,!0,!0)):(d=e.createEventObject(),d.eventType=b);d.eventName=b;e.createEvent?c.dispatchEvent(d):c.fireEvent("on"+d.eventType,d)};B=function(b,c){c=b.target;c.classList.contains("clickable")?(b.preventDefault(),b.stopPropagation(),b.originalEvent&&(b.originalEvent.preventDefault(),b.originalEvent.stopPropagation()),
"href"in c.dataset?f.location.href=c.dataset.href:"action"in c.dataset&&function(b){b="uid"in c.dataset?c.dataset.uid:C();g(["\n","Numer ID dla akcji: "+b,"Akcja: "+c.dataset.action.toUpperCase(),"\n","\u0141\u0105czenie..."]);main_callback=function(a){try{a=JSON.parse(a)}catch(c){return g(["B\u0142\u0105d przy parsowaniu odpowiedzi z serwera..."]),alert("B\u0142\u0105d serwera. Spr\u00f3buj ponownie. "+a)}console.log(a);"success"in a&&a.success?("product"in a?function(b){b=a.product;g(["\n","---",
"\n","Informacje o produkcie: "].concat(Object.keys(b).map(function(a){return"opinie"!=a?"\u00a0--\x3e\u00a0"+a+": "+b[a]:""})))}():"products"in a&&(a.products.forEach(function(a){(function(b){b=a;l(".prompt")[0].innerHTML+="<p>"+["\n","---","\n","Informacje o produkcie: "].concat(Object.keys(b).map(function(a){return"opinie"!=a?"\u00a0--\x3e\u00a0"+a+": "+b[a]:"\u00a0--\x3e\u00a0"+a+": "})).concat(b.opinie.map(function(a,b){b=[];Object.keys(a).forEach(function(c){b[b.length]="\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0--\x3e\u00a0"+
c+": ";a[c].forEach(function(a){b[b.length]="\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0--\x3e\u00a0"+a})});b[b.length]="<div class='clickable opinia_text' data-action='text' data-value='{[id]}' >Eksportuj opini\u0119 do pliku tekstowego</div>".podziel("id").join(a.id);return b}).reduce(function(a,b,c){return a=a.concat(["\u00a0\u00a0\u00a0\u00a0\u00a0"+(c+1)+": "].concat(b))},[])).join("</p><p>")+"</p>"})()}),a.products.length||g(["Brak rekord\u00f3w w bazie danych.."])),
"request_file"in a?(g(["\n","Pobieranie opinii w toku...",["Szacowany czas w sekundach: "," ..."].join(Math.ceil(.7*a.request_file))]),send_return_get("/"+b+".json?v="+(new Date).getTime(),"",main_callback)):"extract"in a&&a.extract?function(a){a=l(".float_etl div.clickable.etl");if(4!=a.length)return alert("B\u0142\u0105d sk\u0142adni HTML (ex3). Spr\u00f3buj od\u015bwie\u017cy\u0107 stron\u0119.");a[2].dataset.uid=b;g(["Wykonano akcj\u0119 Extract..."]);q("tap",e.body)}():"transform"in a&&a.transform?
function(a){a=l(".float_etl div.clickable.etl");if(4!=a.length)return alert("B\u0142\u0105d sk\u0142adni HTML (ex3). Spr\u00f3buj od\u015bwie\u017cy\u0107 stron\u0119.");a[3].dataset.uid=b;g(["Wykonano akcj\u0119 Transform..."]);q("tap",e.body)}():"load"in a&&function(b){b=l(".float_etl div.clickable.etl");if(4!=b.length)return alert("B\u0142\u0105d sk\u0142adni HTML (ex3). Spr\u00f3buj od\u015bwie\u017cy\u0107 stron\u0119.");b.forEach(function(a){delete a.dataset.uid});g(["Wykonano akcj\u0119 Load...",
"Zaktualizowano rekordy w bazie danych w ilo\u015bci: "+a.load]);q("tap",e.body)}(),"stats"in a&&g(["\n","---","\n","Informacje statystyczne: "].concat(Object.keys(a.stats).map(function(b){return"\u00a0--\x3e\u00a0"+b+": "+a.stats[b]}))),"clear"in a&&a.clear&&g("\n;---;\n;Wyczyszczono baz\u0119 danych..;\n;---;\n".split(";")),"csv"in a&&f.open(a.csv,"_blank"),"text"in a&&f.open(a.text,"_blank")):"error"in a?g(["Wyst\u0105pi\u0142 b\u0142\u0105d","\u00a0--\x3e\u00a0"+a.error]):g(["Wyst\u0105pi\u0142 b\u0142\u0105d",
"\u00a0--\x3e\u00a0"+JSON.stringify(a,null,"\t")])};p("/","prod_id="+c.dataset.value+"&action="+c.dataset.action+"&id="+b,main_callback)}()):r(b)};C=function(b){b=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return"c"+(b()+b()+b()+b()+b()+b()+b()+b())};r=function(b,c){(function(b,a){a=l(".float_etl div.clickable.etl");if(4!=a.length)return alert("B\u0142\u0105d sk\u0142adni HTML (ex3). Spr\u00f3buj od\u015bwie\u017cy\u0107 stron\u0119.");a.forEach(function(a){a.classList.add("disabled")});
b=l(".prod_id");if(1!=b.length)return alert("B\u0142\u0105d sk\u0142adni HTML (ex2). Spr\u00f3buj od\u015bwie\u017cy\u0107 stron\u0119.");b=b[0];b=b.value;if(!b.length)return alert("Wprowad\u017a kod produktu.");if(parseInt(b)!=b)return alert("Wprowad\u017a poprawny kod produktu sk\u0142adaj\u0105cy si\u0119 z cyfr.");a.forEach(function(a){("t"!=a.dataset.action&&"l"!=a.dataset.action||"uid"in a.dataset)&&a.classList.remove("disabled");a.dataset.value=b})})()};z=function(b){A=function(b){y()};e.addEventListener("tap",
B,!1);e.addEventListener("keyup",r,!1);e.addEventListener("input",r,!1);f.addEventListener("load",A,!1);w();(function(b){b=l(".float_etl div , .float_etl input");b.forEach(function(b){b.classList.add("loaded_form")})})()};y=function(b){b=l(".image");b.forEach(function(b,d){"imageload"in b.dataset&&(d=new Image,function(a,b){b.onload=function(){a.style.backgroundImage=["url('","')"].join(a.dataset.imageload);a.classList.remove("loading")}}(b,d),d.src=b.dataset.imageload)})};n=function(){return f.XMLHttpRequest?
new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")};p=function(b,c,d){var a=n();a.onreadystatechange=function(){if(4==a.readyState)if(200==a.status)d(a.responseText);else return p(b,c,d)};a.open("POST",b,!0);a.setRequestHeader("Content-type","application/x-www-form-urlencoded");a.send(c)};send_return_get=function(b,c,d){var a=n();a.onreadystatechange=function(){if(4==a.readyState)if(200==a.status)d(a.responseText);else return setTimeout(function(){send_return_get(b,c,d)},1E3)};a.open("GET",
b,!0);a.setRequestHeader("Content-type","application/x-www-form-urlencoded");a.send(c)};x=function(b,c,d){var a=n();a.onreadystatechange=function(){4==a.readyState&&200==a.status&&d(a.responseText)};a.upload.addEventListener("progress",function(a){console.log(a.loaded+" / "+a.total)},!1);a.open("POST",b,!0);a.send(c)};f.send_return=p;f.send_return_image=x;f.odfuskuj_cene=function(b,c){c=new RegExp(/^[0-9]+$/i);b=b.split("").map(function(b){return c.test(b)?b:""}).join("");return parseInt(b)};w=function(){(function(b,
c,d,a){b[d]=function(b,c,d,g,f,h,l,m){if(!a(".alertf").length&&(m=a("body"),1==m.length))return m=m[0],f=e.createElement("style"),f.innerHTML=".test_style{position:fixed;opacity:0;}",e.head.appendChild(f),h=e.createElement("div"),e.body.appendChild(h),h.classList.add("test_style"),h.getBoundingClientRect(),c=h,c.style.left="auto",c.style.right="20px",c.style.top="-140px",c.style.width="50%",c.style.maxHeight="120px",c.style.height="120px",m=h,c=e.createElement("div"),d=m.getBoundingClientRect(),c.style.left=
d.left+"px",c.style.top=d.top+"px",c.style.width=d.width+"px",c.style.height=d.height+"px",c.style.position="fixed",c.style.webkitTransition="all .7s ease",c.style.mozTransition="all .7s ease",c.style.msTransition="all .7s ease",c.style.oTransition="all .7s ease",c.style.transition="all .7s ease",c.classList.add("light_f_conf"),c.classList.add("alertf"),c.innerHTML=b,h.parentNode.removeChild(h),f.parentNode.removeChild(f),e.body.appendChild(c),g=e.createElement("div"),setTimeout(function(){g.classList.remove("force_visible");
c.style.opacity="0";g.style.pointerEvents="none";c.style.pointerEvents="none";setTimeout(function(){c.parentNode.removeChild(c)},1500)},3E3),setTimeout(function(){f=e.createElement("style");f.innerHTML=".test_style{position:fixed;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);-moz-transform:translateX(-50%) translateY(-50%);-o-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);width:87%;max-width:1000px;height:50%;opacity:0;}";
e.head.appendChild(f);h=e.createElement("div");e.body.appendChild(h);h.classList.add("test_style");h.getBoundingClientRect();h.parentNode.removeChild(h);f.parentNode.removeChild(f);c.style.left="auto";c.style.right="20px";c.style.top="120px";c.style.width="50%";c.style.maxHeight="120px";c.style.height="auto"},100),c};b[c]=function(a){return b[d](a)}})(f,"alert","display_freedom_alert",e.querySelectorAll.bind(e))};Array.prototype.reduce||(Array.prototype.reduce=function(b){if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");
if("function"!==typeof b)throw new TypeError(b+" is not a function");var c=Object(this),d=c.length>>>0,a=0,k;if(2==arguments.length)k=arguments[1];else{for(;a<d&&!(a in c);)a++;if(a>=d)throw new TypeError("Reduce of empty array with no initial value");k=c[a++]}for(;a<d;a++)a in c&&(k=b(k,c[a],a,c));return k});String.prototype.startsWith||(String.prototype.startsWith=function(b,c){return this.substr(c||0,b.length)===b});Array.prototype.map||(Array.prototype.map=function(b,c){var d,a,k;if(null==this)throw new TypeError(" this is null or not defined");
var f=Object(this),e=f.length>>>0;if("function"!==typeof b)throw new TypeError(b+" is not a function");1<arguments.length&&(d=c);a=Array(e);for(k=0;k<e;){var g;k in f&&(g=f[k],g=b.call(d,g,k,f),a[k]=g);k++}return a});Array.prototype.filter||(Array.prototype.filter=function(b){if(void 0===this||null===this)throw new TypeError;var c=Object(this),d=c.length>>>0;if("function"!==typeof b)throw new TypeError;for(var a=[],f=2<=arguments.length?arguments[1]:void 0,e=0;e<d;e++)if(e in c){var g=c[e];b.call(f,
g,e,c)&&a.push(g)}return a});Array.prototype.forEach||(Array.prototype.forEach=function(b,c){var d,a;if(null===this)throw new TypeError(" this is null or not defined");var e=Object(this),f=e.length>>>0;if("function"!==typeof b)throw new TypeError(b+" is not a function");1<arguments.length&&(d=c);for(a=0;a<f;){var g;a in e&&(g=e[a],b.call(d,g,a,e));a++}});e.addEventListener("DOMContentLoaded",z,!1)}).apply(this,args);
